<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/Html.html to edit this template
-->
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Manage Vehicles | MegaCityCab</title>
        <link rel="stylesheet" href="../CSS/styles.css">
        <script src="../js/main.js" defer></script>
        <script src="../js/admin.js" defer></script>
    </head>
    <body onload="checkUserSession(); fetchVehicles();">
        <header>
            <h1>Manage Vehicles</h1>
            <nav>
                <a href="admin_dashboard.html">Users</a>
                <a href="bookings.html">Bookings</a>
                <a href="vehicles.html">Vehicles</a>
                <a href="drivers.html">Drivers</a>
                <button onclick="logoutUser()">Logout</button>
            </nav>
        </header>

        <main>
            <h2>All Vehicles</h2>
            <table id="vehiclesTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Model</th>
                        <th>Make Year</th>
                        <th>License Plate</th>
                        <th>Type</th>
                        <th>Capacity</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Vehicle details will be dynamically inserted here -->
                </tbody>
            </table>

            <h2>Add New Vehicle</h2>
            <form id="vehicleForm">
                <input type="text" id="model" placeholder="Model" required>
                <input type="number" id="make_year" placeholder="Make Year" required>
                <input type="text" id="license_plate" placeholder="License Plate" required>

                <label for="vType">Type:</label>
                <select id="vType" required>
                    <option value="Sedan">Sedan</option>
                    <option value="SUV">SUV</option>
                    <option value="Van">Van</option>
                    <option value="Hatchback">Hatchback</option>
                    <option value="Luxury">Luxury</option>
                </select>

                <input type="number" id="capacity" placeholder="Capacity" required>

                <button type="submit">Add Vehicle</button>
            </form>
        </main>
        <!-- âœ… Edit Vehicle Modal -->
        <div id="editVehicleModal" class="modal">
            <div class="modal-content">
                <span onclick="closeEditVehicleModal()" class="close">&times;</span>
                <h2>Edit Vehicle</h2>
                <form id="editVehicleForm">
                    <input type="hidden" id="editVehicleId">
                    <input type="text" id="editVehiclemodel" required>
                    <input type="number" id="editmake_year" required>
                    <input type="text" id="editlicense_plate" required>

                    <label>Type:</label>
                    <select id="editvType" required>
                        <option value="Sedan">Sedan</option>
                        <option value="SUV">SUV</option>
                        <option value="Van">Van</option>
                        <option value="Hatchback">Hatchback</option>
                        <option value="Luxury">Luxury</option>
                    </select>

                    <input type="number" id="editcapacity" required>

                    <label>Status:</label>
                    <select id="editvStatus" required>
                        <option value="Available">Available</option>
                        <option value="Booked">Booked</option>
                        <option value="Maintenance">Maintenance</option>
                    </select>

                    <button type="submit">Update Vehicle</button>
                </form>
            </div>
        </div>

    </body>
</html>
